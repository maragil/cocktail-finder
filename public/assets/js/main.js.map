{"version":3,"sources":["00_variables.js","01_functions.js","02_main.js","03_reset.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst listCocktails = document.querySelector('.js_list-cocktails');\nconst listFavCocktails = document.querySelector('.js_list-cocktails_favorites');\nconst searchBtn = document.querySelector('.js_btn');\nconst resetBtn = document.querySelector('.js_reset');\nconst inputValue = document.querySelector('.js_input');\nconst urlSearch = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?s=';\nconst cocktailStore = JSON.parse(localStorage.getItem(\"myfavs\"));\n\nlet listCocktailsData = [];\nlet listFavCocktailsData = [];","// Fetch API\nfunction fetchCoctails(searchValue){\n    fetch(`${urlSearch}${searchValue}`)\n        .then(response => response.json())\n        .then(data =>{\n            listCocktailsData = data.drinks.map((drink) =>({\n                name: drink.strDrink,\n                id: drink.idDrink,\n                picture: drink.strDrinkThumb,\n            }))\n            renderListCocktails(listCocktailsData);\n        })\n}\n\n// Render lista cócteles\nfunction renderListCocktails(listCocktailsData){\n    let html = '';\n    for (const eachDrink of listCocktailsData){\n        let htmlClass= '';\n        let img = 'https://via.placeholder.com/140x130';\n        if(eachDrink.picture != ''){\n            img = eachDrink.picture;\n        }\n        const favorite = listFavCocktailsData.find((favorite) => favorite.id === eachDrink.id);\n        if (favorite) {\n            htmlClass = 'selected';\n        }\n        html += `<div><span><li class=\"js_selection ${htmlClass}\" id=${eachDrink.id}>\n        <h3 class=\"name\">${eachDrink.name}</h3>\n        <img src=\"${img}\" alt=\"Imagen del cóctel\" class=\"img\">\n        </li></span></div>`;\n    }\n    listCocktails.innerHTML = html;\n    addEventToCoctel();\n}\n\n// Render lista favoritos\nfunction renderFavListCocktails(listCocktailsData){\n    let html = '';\n    let img = 'https://via.placeholder.com/140x130';\n    for (const eachDrink of listCocktailsData) {\n        if(eachDrink.picture != ''){\n            img = eachDrink.picture;\n        }\n        html += `<div><span class=\"close\"><i class=\"fa-regular fa-circle-xmark close_btn js_cross js_selection\" id=${eachDrink.id} title=\"Quitar de favoritos\"></i>\n        <li id=${eachDrink.id}>\n        <h3 class=\"name\">${eachDrink.name}</h3>\n        <img src=\"${img}\" alt=\"Imagen del cóctel\" class=\"img\">\n        </li></span></div>`;\n    }\n    listFavCocktails.innerHTML = html;\n    addEventToCoctel();\n}\n\n// Evento añadir/eliminar favoritos\nfunction handleClick(ev){\n    const idSelected = ev.currentTarget.id;\n    const favCocktails = listCocktailsData.find(eachDrink => eachDrink.id === idSelected);\n    const indexCocktail = listFavCocktailsData.findIndex(eachDrink => eachDrink.id === idSelected);\n\n    document.getElementById(idSelected).classList.toggle('selected');\n\n    if(indexCocktail === -1){\n        listFavCocktailsData.push(favCocktails);\n    }else{\n        listFavCocktailsData.splice(indexCocktail,1);\n    }\n    renderFavListCocktails(listFavCocktailsData);\n    localStorage.setItem(\"myfavs\", JSON.stringify(listFavCocktailsData));\n}\n\n// Añade evento a li\nfunction addEventToCoctel(){\n    const selectedItems  = document.querySelectorAll('.js_selection');\n    for (const eachItem of selectedItems) {\n        eachItem.addEventListener('click', handleClick);\n    }\n}\n\n// Búsqueda de otros cócteles\nfunction handleClickBtn(ev){\n    ev.preventDefault();\n    const searchValue = inputValue.value;\n    fetchCoctails(searchValue);\n}","// Renderiza la lista de fav con los datos del LS\nif (cocktailStore){\n    listFavCocktailsData = cocktailStore;\n    renderFavListCocktails(listFavCocktailsData);\n}\n\nfetchCoctails(\"martini\");\n\nsearchBtn.addEventListener('click', handleClickBtn);","function reset(ev){\n    ev.preventDefault();\n    inputValue.value = '';\n    localStorage.removeItem(\"myfavs\");\n    listFavCocktailsData =[];\n    renderFavListCocktails(listFavCocktailsData);\n    fetchCoctails(\"martini\");\n}\nresetBtn.addEventListener('click', reset);"]}