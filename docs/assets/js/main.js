"use strict";const listCocktails=document.querySelector(".js_list-cocktails"),listFavCocktails=document.querySelector(".js_list-cocktails_favorites"),searchBtn=document.querySelector(".js_btn"),resetBtn=document.querySelector(".js_reset"),inputValue=document.querySelector(".js_input"),urlSearch="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",cocktailStore=JSON.parse(localStorage.getItem("myfavs"));let listCocktailsData=[],listFavCocktailsData=[];function fetchCoctails(t){fetch(`${urlSearch}${t}`).then(t=>t.json()).then(t=>{listCocktailsData=t.drinks.map(t=>({name:t.strDrink,id:t.idDrink,picture:t.strDrinkThumb})),renderListCocktails(listCocktailsData)})}function renderListCocktails(t){let e="";for(const a of t){let t="",i="https://via.placeholder.com/140x130";""!=a.picture&&(i=a.picture);listFavCocktailsData.find(t=>t.id===a.id)&&(t="selected"),e+=`<div><span><li class="js_selection ${t}" id=${a.id}>\n        <h3 class="name">${a.name}</h3>\n        <img src="${i}" alt="Imagen del cóctel" class="img">\n        </li></span></div>`}listCocktails.innerHTML=e,addEventToCoctel()}function renderFavListCocktails(t){let e="",a="https://via.placeholder.com/140x130";for(const i of t)""!=i.picture&&(a=i.picture),e+=`<div><span class="close"><i class="fa-regular fa-circle-xmark close_btn js_cross js_selection" id=${i.id} title="Quitar de favoritos"></i>\n        <li id=${i.id}>\n        <h3 class="name">${i.name}</h3>\n        <img src="${a}" alt="Imagen del cóctel" class="img">\n        </li></span></div>`;listFavCocktails.innerHTML=e,addEventToCoctel()}function handleClick(t){const e=t.currentTarget.id,a=listCocktailsData.find(t=>t.id===e),i=listFavCocktailsData.findIndex(t=>t.id===e);document.getElementById(e).classList.toggle("selected"),-1===i?listFavCocktailsData.push(a):listFavCocktailsData.splice(i,1),renderFavListCocktails(listFavCocktailsData),localStorage.setItem("myfavs",JSON.stringify(listFavCocktailsData))}function addEventToCoctel(){const t=document.querySelectorAll(".js_selection");for(const e of t)e.addEventListener("click",handleClick)}function handleClickBtn(t){t.preventDefault();fetchCoctails(inputValue.value)}function reset(t){t.preventDefault(),inputValue.value="",localStorage.removeItem("myfavs"),listFavCocktailsData=[],renderFavListCocktails(listFavCocktailsData),fetchCoctails("martini")}cocktailStore&&(listFavCocktailsData=cocktailStore,renderFavListCocktails(listFavCocktailsData)),fetchCoctails("martini"),searchBtn.addEventListener("click",handleClickBtn),resetBtn.addEventListener("click",reset);